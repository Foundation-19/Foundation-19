<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;turf - Space Station 13 - TeguStation</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13 - TeguStation</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="turf.html#var">Var Details</a> - <a href="turf.html#proc">Proc Details</a></header>
<main>
<h1>/<a href="turf.html">turf</a><aside> inherits /<a href="atom.html">atom</a></aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="turf.html#var/above">above</a></th><td>Reference to any open turf that might be above us to speed up atom Entered() updates.</td></tr>
            <tr><th><a href="turf.html#var/affecting_lights">affecting_lights</a></th><td>List of light sources affecting this turf.</td></tr>
            <tr><th><a href="turf.html#var/ao_overlays">ao_overlays</a></th><td>Current ambient occlusion overlays. Tracked so we can reverse them without dropping all priority overlays.</td></tr>
            <tr><th><a href="turf.html#var/bound_overlay">bound_overlay</a></th><td>If we're a non-overwrite z-turf, this holds the appearance of the bottom-most Z-turf in the z-stack.</td></tr>
            <tr><th><a href="turf.html#var/dangerous_objects">dangerous_objects</a></th><td>List of 'dangerous' objs that the turf holds that can cause something bad to happen when stepped on, used for AI mobs.</td></tr>
            <tr><th><a href="turf.html#var/dynamic_lighting">dynamic_lighting</a></th><td>Does the turf use dynamic lighting?</td></tr>
            <tr><th><a href="turf.html#var/lighting_overlay">lighting_overlay</a></th><td>Our lighting overlay.</td></tr>
            <tr><th><a href="turf.html#var/shadower">shadower</a></th><td>Overlay used to multiply color of all OO overlays at once.</td></tr>
            <tr><th><a href="turf.html#var/z_delegate">z_delegate</a></th><td>If this is a delegate (non-overwrite) Z-turf with a z-turf above, this is the delegate copy that's copying us.</td></tr>
            <tr><th><a href="turf.html#var/z_eventually_space">z_eventually_space</a></th><td>If this Z-turf leads to space, uninterrupted.</td></tr>
            <tr><th><a href="turf.html#var/z_queued">z_queued</a></th><td>How many times this turf is currently queued - multiple queue occurrences are allowed to ensure update consistency.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="turf.html#proc/AdjacentQuick">AdjacentQuick</a></th><td>Quick adjacency (to turf):
If you are in the same turf, always true
If you are not adjacent, then false</td></tr>
            <tr><th><a href="turf.html#proc/Adjacent_free_dir">Adjacent_free_dir</a></th><td>Similar to Adjacent, but checks if the path FROM src in an orthogonal direction THROUGH intermediate TO destination
is free without considering src turf</td></tr>
            <tr><th><a href="turf.html#proc/ClickCross">ClickCross</a></th><td>This checks if you there is uninterrupted airspace between that turf and this one.
This is defined as any dense ATOM_FLAG_CHECKS_BORDER object, or any dense object without throwpass.
The border_only flag allows you to not objects (for source and destination squares)</td></tr>
            <tr><th><a href="turf.html#proc/is_safe_to_enter">is_safe_to_enter</a></th><td>Returns false if stepping into a tile would cause harm (e.g. open space while unable to fly, water tile while a slime, lava, etc).</td></tr>
            <tr><th><a href="turf.html#proc/register_dangerous_object">register_dangerous_object</a></th><td>Tells the turf that it currently contains something that automated movement should consider if planning to enter the tile.
This uses lazy list macros to reduce memory footprint since for 99% of turfs the list would've been empty anyway.</td></tr>
            <tr><th><a href="turf.html#proc/unregister_dangerous_object">unregister_dangerous_object</a></th><td>Similar to <code>register_dangerous_object()</code>, for when the dangerous object stops being dangerous/gets deleted/moved/etc.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/above"><aside class="declaration">var </aside>above
            <aside>&ndash; /tmp/<a href="turf.html">turf</a></aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L2">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 2"/></a></h3>
        <p>Reference to any open turf that might be above us to speed up atom Entered() updates.</p><h3 id="var/affecting_lights"><aside class="declaration">var </aside>affecting_lights
            <aside>&ndash; /tmp/list/datum/light_source</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/lighting/lighting_turf.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;lighting&#x2F;lighting_turf.dm 8"/></a></h3>
        <p>List of light sources affecting this turf.</p><h3 id="var/ao_overlays"><aside class="declaration">var </aside>ao_overlays
            <aside>&ndash; /tmp/list</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf_ao.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf_ao.dm 6"/></a></h3>
        <p>Current ambient occlusion overlays. Tracked so we can reverse them without dropping all priority overlays.</p><h3 id="var/bound_overlay"><aside class="declaration">var </aside>bound_overlay
            <aside>&ndash; /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/turf_delegate</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L5">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 5"/></a></h3>
        <p>If we're a non-overwrite z-turf, this holds the appearance of the bottom-most Z-turf in the z-stack.</p><h3 id="var/dangerous_objects"><aside class="declaration">var </aside>dangerous_objects
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf.dm#L42">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf.dm 42"/></a></h3>
        <p>List of 'dangerous' objs that the turf holds that can cause something bad to happen when stepped on, used for AI mobs.</p><h3 id="var/dynamic_lighting"><aside class="declaration">var </aside>dynamic_lighting
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/lighting/lighting_turf.dm#L2">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;lighting&#x2F;lighting_turf.dm 2"/></a></h3>
        <p>Does the turf use dynamic lighting?</p><h3 id="var/lighting_overlay"><aside class="declaration">var </aside>lighting_overlay
            <aside>&ndash; /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/lighting_overlay</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/lighting/lighting_turf.dm#L10">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;lighting&#x2F;lighting_turf.dm 10"/></a></h3>
        <p>Our lighting overlay.</p><h3 id="var/shadower"><aside class="declaration">var </aside>shadower
            <aside>&ndash; /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/multiplier</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L7">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 7"/></a></h3>
        <p>Overlay used to multiply color of all OO overlays at once.</p><h3 id="var/z_delegate"><aside class="declaration">var </aside>z_delegate
            <aside>&ndash; /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/delegate_copy</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L9">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 9"/></a></h3>
        <p>If this is a delegate (non-overwrite) Z-turf with a z-turf above, this is the delegate copy that's copying us.</p><h3 id="var/z_eventually_space"><aside class="declaration">var </aside>z_eventually_space
            <aside>&ndash; /tmp</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L13">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 13"/></a></h3>
        <p>If this Z-turf leads to space, uninterrupted.</p><h3 id="var/z_queued"><aside class="declaration">var </aside>z_queued
            <aside>&ndash; /tmp</aside>
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/modules/multiz/zmimic/mimic_turf.dm#L11">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;multiz&#x2F;zmimic&#x2F;mimic_turf.dm 11"/></a></h3>
        <p>How many times this turf is currently queued - multiple queue occurrences are allowed to ensure update consistency.</p><h2 id="proc">Proc Details</h2><h3 id="proc/AdjacentQuick"><aside class="declaration">proc </aside>AdjacentQuick<aside>(/<a href="atom.html">atom</a>/neighbor, /<a href="atom.html">atom</a>/target) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/_onclick/adjacent.dm#L93">
        <img src="git.png" width="16" height="16" title="code&#x2F;_onclick&#x2F;adjacent.dm 93"/></a></aside>
        </h3>
        <p>Quick adjacency (to turf):
If you are in the same turf, always true
If you are not adjacent, then false</p><h3 id="proc/Adjacent_free_dir"><aside class="declaration">proc </aside>Adjacent_free_dir<aside>(/<a href="atom.html">atom</a>/destination, path_dir) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/_onclick/adjacent.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;_onclick&#x2F;adjacent.dm 64"/></a></aside>
        </h3>
        <p>Similar to Adjacent, but checks if the path FROM src in an orthogonal direction THROUGH intermediate TO destination
is free without considering src turf</p><h3 id="proc/ClickCross"><aside class="declaration">proc </aside>ClickCross<aside>(target_dir, border_only, /<a href="atom.html">atom</a>/target_atom) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/_onclick/adjacent.dm#L133">
        <img src="git.png" width="16" height="16" title="code&#x2F;_onclick&#x2F;adjacent.dm 133"/></a></aside>
        </h3>
        <p>This checks if you there is uninterrupted airspace between that turf and this one.
This is defined as any dense ATOM_FLAG_CHECKS_BORDER object, or any dense object without throwpass.
The border_only flag allows you to not objects (for source and destination squares)</p><h3 id="proc/is_safe_to_enter"><aside class="declaration">proc </aside>is_safe_to_enter<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/L) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf.dm#L381">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf.dm 381"/></a></aside>
        </h3>
        <p>Returns false if stepping into a tile would cause harm (e.g. open space while unable to fly, water tile while a slime, lava, etc).</p><h3 id="proc/register_dangerous_object"><aside class="declaration">proc </aside>register_dangerous_object<aside>(/<a href="obj.html">obj</a>/O) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf.dm#L392">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf.dm 392"/></a></aside>
        </h3>
        <p>Tells the turf that it currently contains something that automated movement should consider if planning to enter the tile.
This uses lazy list macros to reduce memory footprint since for 99% of turfs the list would've been empty anyway.</p><h3 id="proc/unregister_dangerous_object"><aside class="declaration">proc </aside>unregister_dangerous_object<aside>(/<a href="obj.html">obj</a>/O) 
        
    
            <a href="https://github.com/Foundation-19/Foundation-19/blob/450a50877364306e1c08df849746fff938e54fdc/code/game/turfs/turf.dm#L400">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;turfs&#x2F;turf.dm 400"/></a></aside>
        </h3>
        <p>Similar to <code>register_dangerous_object()</code>, for when the dangerous object stops being dangerous/gets deleted/moved/etc.</p></main>
<footer>
    baystation12.dme
    <a href="https://github.com/Foundation-19/Foundation-19/tree/450a50877364306e1c08df849746fff938e54fdc">450a508</a>
        (main) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
